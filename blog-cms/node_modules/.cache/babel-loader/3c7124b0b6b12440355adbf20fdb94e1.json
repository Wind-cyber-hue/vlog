{"remainingRequest":"/Users/cm/Blog/blog-cms/node_modules/babel-loader/lib/index.js!/Users/cm/Blog/blog-cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cm/Blog/blog-cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cm/Blog/blog-cms/src/views/page/SiteSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cm/Blog/blog-cms/src/views/page/SiteSetting.vue","mtime":1683690398268},{"path":"/Users/cm/Blog/blog-cms/node_modules/cache-loader/dist/cjs.js","mtime":1683698845457},{"path":"/Users/cm/Blog/blog-cms/node_modules/babel-loader/lib/index.js","mtime":1683698845760},{"path":"/Users/cm/Blog/blog-cms/node_modules/cache-loader/dist/cjs.js","mtime":1683698845457},{"path":"/Users/cm/Blog/blog-cms/node_modules/vue-loader/lib/index.js","mtime":1683698847009}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvY20vQmxvZy9ibG9nLWNtcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQnJlYWRjcnVtYiBmcm9tICJAL2NvbXBvbmVudHMvQnJlYWRjcnVtYiI7CmltcG9ydCB7IGdldFNpdGVTZXR0aW5nRGF0YSwgdXBkYXRlIH0gZnJvbSAiQC9hcGkvc2l0ZVNldHRpbmciOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNpdGVTZXR0aW5nIiwKICBjb21wb25lbnRzOiB7CiAgICBCcmVhZGNydW1iOiBCcmVhZGNydW1iCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVsZXRlSWRzOiBbXSwKICAgICAgdHlwZU1hcDoge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZ2V0U2l0ZVNldHRpbmdEYXRhKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLnR5cGVNYXAgPSByZXMuZGF0YTsKICAgICAgICAgIHJlcy5kYXRhLnR5cGUyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaXRlbS52YWx1ZSA9IEpTT04ucGFyc2UoaXRlbS52YWx1ZSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy5tc2dTdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5tc2dFcnJvcihyZXMubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5tc2dFcnJvcigi6K+35rGC5aSx6LSlIik7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZEZhdm9yaXRlOiBmdW5jdGlvbiBhZGRGYXZvcml0ZSgpIHsKICAgICAgdGhpcy50eXBlTWFwLnR5cGUzLnB1c2goewogICAgICAgIGtleTogRGF0ZS5ub3coKSwKICAgICAgICBuYW1lRW46ICJmYXZvcml0ZSIsCiAgICAgICAgbmFtZVpoOiAi6Ieq5a6a5LmJIiwKICAgICAgICB0eXBlOiAzLAogICAgICAgIHZhbHVlOiAie1widGl0bGVcIjpcIlwiLFwiY29udGVudFwiOlwiXCJ9IgogICAgICB9KTsKICAgIH0sCiAgICBhZGRCYWRnZTogZnVuY3Rpb24gYWRkQmFkZ2UoKSB7CiAgICAgIHRoaXMudHlwZU1hcC50eXBlMi5wdXNoKHsKICAgICAgICBrZXk6IERhdGUubm93KCksCiAgICAgICAgbmFtZUVuOiAiYmFkZ2UiLAogICAgICAgIG5hbWVaaDogIuW+veaghyIsCiAgICAgICAgdHlwZTogMiwKICAgICAgICB2YWx1ZTogewogICAgICAgICAgY29sb3I6ICIiLAogICAgICAgICAgc3ViamVjdDogIiIsCiAgICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgICB1cmw6ICIiLAogICAgICAgICAgdmFsdWU6ICIiCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVGYXZvcml0ZTogZnVuY3Rpb24gZGVsZXRlRmF2b3JpdGUoZmF2b3JpdGUpIHsKICAgICAgdmFyIGFyciA9IHRoaXMudHlwZU1hcC50eXBlMzsKCiAgICAgIGlmIChmYXZvcml0ZS5pZCkgewogICAgICAgIHRoaXMuZGVsZXRlSWRzLnB1c2goZmF2b3JpdGUuaWQpOwogICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGZhdm9yaXRlLmlkKSB7CiAgICAgICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICBpZiAoaXRlbS5rZXkgPT09IGZhdm9yaXRlLmtleSkgewogICAgICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlQmFkZ2U6IGZ1bmN0aW9uIGRlbGV0ZUJhZGdlKGJhZGdlKSB7CiAgICAgIHZhciBhcnIgPSB0aGlzLnR5cGVNYXAudHlwZTI7CgogICAgICBpZiAoYmFkZ2UuaWQpIHsKICAgICAgICB0aGlzLmRlbGV0ZUlkcy5wdXNoKGJhZGdlLmlkKTsKICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIGlmIChpdGVtLmlkID09PSBiYWRnZS5pZCkgewogICAgICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgaWYgKGl0ZW0ua2V5ID09PSBiYWRnZS5rZXkpIHsKICAgICAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciByZXN1bHQgPSBfLmNsb25lRGVlcCh0aGlzLnR5cGVNYXApOwoKICAgICAgcmVzdWx0LnR5cGUyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoaXRlbS52YWx1ZSk7CiAgICAgIH0pOwogICAgICB2YXIgdXBkYXRlQXJyID0gW107CiAgICAgIHVwZGF0ZUFyci5wdXNoLmFwcGx5KHVwZGF0ZUFyciwgX3RvQ29uc3VtYWJsZUFycmF5KHJlc3VsdC50eXBlMSkpOwogICAgICB1cGRhdGVBcnIucHVzaC5hcHBseSh1cGRhdGVBcnIsIF90b0NvbnN1bWFibGVBcnJheShyZXN1bHQudHlwZTIpKTsKICAgICAgdXBkYXRlQXJyLnB1c2guYXBwbHkodXBkYXRlQXJyLCBfdG9Db25zdW1hYmxlQXJyYXkocmVzdWx0LnR5cGUzKSk7CiAgICAgIHVwZGF0ZSh1cGRhdGVBcnIsIHRoaXMuZGVsZXRlSWRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMyLmRlbGV0ZUlkcyA9IFtdOwoKICAgICAgICAgIF90aGlzMi5nZXREYXRhKCk7CgogICAgICAgICAgX3RoaXMyLm1zZ1N1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5tc2dFcnJvcihyZXMubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIubXNnRXJyb3IoIuivt+axguWksei0pSIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["SiteSetting.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div>\n\t\t<!--面包屑导航-->\n\t\t<Breadcrumb parentTitle=\"页面管理\"/>\n\n\t\t\t<el-row :gutter=\"20\">\n\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t<el-card>\n\t\t\t\t\t\t<div slot=\"header\">\n\t\t\t\t\t\t\t<span>基础设置</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<el-form label-position=\"right\" label-width=\"100px\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.nameZh\" v-for=\"item in typeMap.type1\" :key=\"item.id\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"item.value\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-form>\n\t\t\t\t\t</el-card>\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t<el-card>\n\t\t\t\t\t\t<div slot=\"header\">\n\t\t\t\t\t\t\t<span>资料卡</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<el-form label-position=\"right\" label-width=\"100px\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.nameZh\" v-for=\"item in typeMap.type3\" :key=\"item.id\">\n\t\t\t\t\t\t\t\t<div v-if=\"item.nameEn=='favorite'\">\n\t\t\t\t\t\t\t\t\t<el-col :span=\"20\">\n\t\t\t\t\t\t\t\t\t\t<el-input v-model=\"item.value\"></el-input>\n\t\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t\t\t<el-col :span=\"4\">\n\t\t\t\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"deleteFavorite(item)\">删除</el-button>\n\t\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t<el-input v-model=\"item.value\"></el-input>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" icon=\"el-icon-plus\" @click=\"addFavorite\">添加自定义</el-button>\n\t\t\t\t\t\t</el-form>\n\t\t\t\t\t</el-card>\n\t\t\t\t</el-col>\n\t\t\t</el-row>\n\n\t\t\t<el-row style=\"margin-top: 20px\">\n\t\t\t\t<el-card>\n\t\t\t\t\t<div slot=\"header\">\n\t\t\t\t\t\t<span>页脚徽标</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<el-form :inline=\"true\" v-for=\"badge in typeMap.type2\" :key=\"badge.id\">\n\t\t\t\t\t\t<el-form-item label=\"title\">\n\t\t\t\t\t\t\t<el-input v-model=\"badge.value.title\"></el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"url\">\n\t\t\t\t\t\t\t<el-input v-model=\"badge.value.url\"></el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"subject\">\n\t\t\t\t\t\t\t<el-input v-model=\"badge.value.subject\"></el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"value\">\n\t\t\t\t\t\t\t<el-input v-model=\"badge.value.value\"></el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"color\">\n\t\t\t\t\t\t\t<el-input v-model=\"badge.value.color\"></el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item>\n\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"deleteBadge(badge)\">删除</el-button>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-form>\n\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" icon=\"el-icon-plus\" @click=\"addBadge\">添加 badge</el-button>\n\t\t\t\t</el-card>\n\t\t\t</el-row>\n\n\t\t\t<div style=\"text-align: right;margin-top: 30px\">\n\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-check\" @click=\"submit\">保存</el-button>\n\t\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport Breadcrumb from \"@/components/Breadcrumb\";\n\timport {getSiteSettingData, update} from \"@/api/siteSetting\";\n\timport _ from 'lodash'\n\n\texport default {\n\t\tname: \"SiteSetting\",\n\t\tcomponents: {Breadcrumb},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tdeleteIds: [],\n\t\t\t\ttypeMap: {},\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis.getData()\n\t\t},\n\t\tmethods: {\n\t\t\tgetData() {\n\t\t\t\tgetSiteSettingData().then(res => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tthis.typeMap = res.data\n\t\t\t\t\t\tres.data.type2.forEach(item => {\n\t\t\t\t\t\t\titem.value = JSON.parse(item.value)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.msgSuccess(res.msg)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.msgError(res.msg)\n\t\t\t\t\t}\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.msgError(\"请求失败\")\n\t\t\t\t})\n\t\t\t},\n\t\t\taddFavorite() {\n\t\t\t\tthis.typeMap.type3.push({\n\t\t\t\t\tkey: Date.now(),\n\t\t\t\t\tnameEn: \"favorite\",\n\t\t\t\t\tnameZh: \"自定义\",\n\t\t\t\t\ttype: 3,\n\t\t\t\t\tvalue: \"{\\\"title\\\":\\\"\\\",\\\"content\\\":\\\"\\\"}\"\n\t\t\t\t})\n\t\t\t},\n\t\t\taddBadge() {\n\t\t\t\tthis.typeMap.type2.push({\n\t\t\t\t\tkey: Date.now(),\n\t\t\t\t\tnameEn: \"badge\",\n\t\t\t\t\tnameZh: \"徽标\",\n\t\t\t\t\ttype: 2,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tcolor: \"\",\n\t\t\t\t\t\tsubject: \"\",\n\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\turl: \"\",\n\t\t\t\t\t\tvalue: \"\"\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tdeleteFavorite(favorite) {\n\t\t\t\tlet arr = this.typeMap.type3\n\t\t\t\tif (favorite.id) {\n\t\t\t\t\tthis.deleteIds.push(favorite.id)\n\t\t\t\t\tarr.forEach((item, index) => {\n\t\t\t\t\t\tif (item.id === favorite.id) {\n\t\t\t\t\t\t\tarr.splice(index, 1)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tarr.forEach((item, index) => {\n\t\t\t\t\t\tif (item.key === favorite.key) {\n\t\t\t\t\t\t\tarr.splice(index, 1)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeleteBadge(badge) {\n\t\t\t\tlet arr = this.typeMap.type2\n\t\t\t\tif (badge.id) {\n\t\t\t\t\tthis.deleteIds.push(badge.id)\n\t\t\t\t\tarr.forEach((item, index) => {\n\t\t\t\t\t\tif (item.id === badge.id) {\n\t\t\t\t\t\t\tarr.splice(index, 1)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tarr.forEach((item, index) => {\n\t\t\t\t\t\tif (item.key === badge.key) {\n\t\t\t\t\t\t\tarr.splice(index, 1)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tsubmit() {\n\t\t\t\tconst result = _.cloneDeep(this.typeMap)\n\t\t\t\tresult.type2.forEach(item => {\n\t\t\t\t\titem.value = JSON.stringify(item.value)\n\t\t\t\t})\n\t\t\t\tlet updateArr = []\n\t\t\t\tupdateArr.push(...result.type1)\n\t\t\t\tupdateArr.push(...result.type2)\n\t\t\t\tupdateArr.push(...result.type3)\n\t\t\t\tupdate(updateArr, this.deleteIds).then(res => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tthis.deleteIds = []\n\t\t\t\t\t\tthis.getData()\n\t\t\t\t\t\tthis.msgSuccess(res.msg)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.msgError(res.msg)\n\t\t\t\t\t}\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.msgError(\"请求失败\")\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views/page"}]}