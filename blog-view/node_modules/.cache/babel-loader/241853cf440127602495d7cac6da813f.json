{"remainingRequest":"/Users/cm/Blog/blog-view/node_modules/thread-loader/dist/cjs.js!/Users/cm/Blog/blog-view/node_modules/babel-loader/lib/index.js!/Users/cm/Blog/blog-view/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cm/Blog/blog-view/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cm/Blog/blog-view/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cm/Blog/blog-view/src/views/home/Home.vue","mtime":1683690398308},{"path":"/Users/cm/Blog/blog-view/node_modules/cache-loader/dist/cjs.js","mtime":1683698965703},{"path":"/Users/cm/Blog/blog-view/node_modules/thread-loader/dist/cjs.js","mtime":1683698965660},{"path":"/Users/cm/Blog/blog-view/node_modules/babel-loader/lib/index.js","mtime":1683698965965},{"path":"/Users/cm/Blog/blog-view/node_modules/cache-loader/dist/cjs.js","mtime":1683698965703},{"path":"/Users/cm/Blog/blog-view/node_modules/vue-loader/lib/index.js","mtime":1683698966671}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBCbG9nTGlzdCBmcm9tICJAL2NvbXBvbmVudHMvYmxvZy9CbG9nTGlzdCI7CmltcG9ydCB7IGdldEJsb2dMaXN0IGFzIF9nZXRCbG9nTGlzdCB9IGZyb20gIkAvYXBpL2hvbWUiOwppbXBvcnQgeyBTRVRfSVNfQkxPR19UT19IT01FIH0gZnJvbSAiLi4vLi4vc3RvcmUvbXV0YXRpb25zLXR5cGVzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lIiwKICBjb21wb25lbnRzOiB7CiAgICBCbG9nTGlzdDogQmxvZ0xpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBibG9nTGlzdDogW10sCiAgICAgIHRvdGFsUGFnZTogMCwKICAgICAgZ2V0QmxvZ0xpc3RGaW5pc2g6IGZhbHNlCiAgICB9OwogIH0sCiAgYmVmb3JlUm91dGVFbnRlcjogZnVuY3Rpb24gYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgbmV4dChmdW5jdGlvbiAodm0pIHsKICAgICAgaWYgKGZyb20ubmFtZSAhPT0gJ2Jsb2cnKSB7CiAgICAgICAgLy/lhbblroPpobXpnaLot7PovazliLDpppbpobXml7bvvIzph43mlrDor7fmsYLmlbDmja4KICAgICAgICAvL+iuvue9ruS4gOS4qmZsYWfvvIzorqnpppbpobXnmoTliIbpobXnu4Tku7bmjIflkJHmraPnoa7nmoTpobXnoIEKICAgICAgICB2bS4kc3RvcmUuY29tbWl0KFNFVF9JU19CTE9HX1RPX0hPTUUsIGZhbHNlKTsKICAgICAgICB2bS5nZXRCbG9nTGlzdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8v5aaC5p6c5paH56ug6aG16Z2i5piv6LW35aeL6K6/6Zeu6aG177yM6aaW6aG15bCG5piv56ys5LiA5qyh6L+b5YWl77yM5Y2z57yT5a2Y5LiN5a2Y5Zyo77yM6KaB6K+35rGC5pWw5o2uCiAgICAgICAgaWYgKCF2bS5nZXRCbG9nTGlzdEZpbmlzaCkgewogICAgICAgICAgdm0uZ2V0QmxvZ0xpc3QoKTsKICAgICAgICB9IC8v5LuO5paH56ug6aG16Z2i6Lez6L2s5Yiw6aaW6aG15pe277yM5L2/55So6aaW6aG157yT5a2YCgoKICAgICAgICB2bS4kc3RvcmUuY29tbWl0KFNFVF9JU19CTE9HX1RPX0hPTUUsIHRydWUpOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJsb2dMaXN0OiBmdW5jdGlvbiBnZXRCbG9nTGlzdChwYWdlTnVtKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfZ2V0QmxvZ0xpc3QocGFnZU51bSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLmJsb2dMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgIF90aGlzLnRvdGFsUGFnZSA9IHJlcy5kYXRhLnRvdGFsUGFnZTsKCiAgICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBQcmlzbS5oaWdobGlnaHRBbGwoKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLmdldEJsb2dMaXN0RmluaXNoID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMubXNnRXJyb3IocmVzLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMubXNnRXJyb3IoIuivt+axguWksei0pSIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;AAOA,OAAA,QAAA,MAAA,4BAAA;AACA,SAAA,WAAA,IAAA,YAAA,QAAA,YAAA;AACA,SAAA,mBAAA,QAAA,6BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,QAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,CAFA;AAGA,MAAA,iBAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,gBAVA,4BAUA,EAVA,EAUA,IAVA,EAUA,IAVA,EAUA;AACA,IAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,KAAA,MAAA,EAAA;AACA;AACA;AACA,QAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,mBAAA,EAAA,KAAA;AACA,QAAA,EAAA,CAAA,WAAA;AACA,OALA,MAKA;AACA;AACA,YAAA,CAAA,EAAA,CAAA,iBAAA,EAAA;AACA,UAAA,EAAA,CAAA,WAAA;AACA,SAJA,CAKA;;;AACA,QAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,mBAAA,EAAA,IAAA;AACA;AACA,KAdA,CAAA;AAeA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,OADA,EACA;AAAA;;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,YAAA;AACA,WAFA;;AAGA,UAAA,KAAA,CAAA,iBAAA,GAAA,IAAA;AACA,SAPA,MAOA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,GAAA;AACA;AACA,OAXA,EAWA,KAXA,CAWA,YAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,MAAA;AACA,OAbA;AAcA;AAhBA;AA3BA,CAAA","sourcesContent":["<template>\n\t<div>\n\t\t<BlogList :getBlogList=\"getBlogList\" :blogList=\"blogList\" :totalPage=\"totalPage\"/>\n\t</div>\n</template>\n\n<script>\n\timport BlogList from \"@/components/blog/BlogList\";\n\timport {getBlogList} from \"@/api/home\";\n\timport {SET_IS_BLOG_TO_HOME} from \"../../store/mutations-types\";\n\n\texport default {\n\t\tname: \"Home\",\n\t\tcomponents: {BlogList},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tblogList: [],\n\t\t\t\ttotalPage: 0,\n\t\t\t\tgetBlogListFinish: false\n\t\t\t}\n\t\t},\n\t\tbeforeRouteEnter(to, from, next) {\n\t\t\tnext(vm => {\n\t\t\t\tif (from.name !== 'blog') {\n\t\t\t\t\t//其它页面跳转到首页时，重新请求数据\n\t\t\t\t\t//设置一个flag，让首页的分页组件指向正确的页码\n\t\t\t\t\tvm.$store.commit(SET_IS_BLOG_TO_HOME, false)\n\t\t\t\t\tvm.getBlogList()\n\t\t\t\t} else {\n\t\t\t\t\t//如果文章页面是起始访问页，首页将是第一次进入，即缓存不存在，要请求数据\n\t\t\t\t\tif (!vm.getBlogListFinish) {\n\t\t\t\t\t\tvm.getBlogList()\n\t\t\t\t\t}\n\t\t\t\t\t//从文章页面跳转到首页时，使用首页缓存\n\t\t\t\t\tvm.$store.commit(SET_IS_BLOG_TO_HOME, true)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\tgetBlogList(pageNum) {\n\t\t\t\tgetBlogList(pageNum).then(res => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tthis.blogList = res.data.list\n\t\t\t\t\t\tthis.totalPage = res.data.totalPage\n\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\tPrism.highlightAll()\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.getBlogListFinish = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.msgError(res.msg)\n\t\t\t\t\t}\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.msgError(\"请求失败\")\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views/home"}]}