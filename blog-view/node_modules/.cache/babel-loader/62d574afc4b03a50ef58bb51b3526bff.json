{"remainingRequest":"/Users/cm/Blog/blog-view/node_modules/thread-loader/dist/cjs.js!/Users/cm/Blog/blog-view/node_modules/babel-loader/lib/index.js!/Users/cm/Blog/blog-view/src/plugins/axios.js","dependencies":[{"path":"/Users/cm/Blog/blog-view/src/plugins/axios.js","mtime":1683690398287},{"path":"/Users/cm/Blog/blog-view/node_modules/cache-loader/dist/cjs.js","mtime":1683698965703},{"path":"/Users/cm/Blog/blog-view/node_modules/thread-loader/dist/cjs.js","mtime":1683698965660},{"path":"/Users/cm/Blog/blog-view/node_modules/babel-loader/lib/index.js","mtime":1683698965965}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IE5Qcm9ncmVzcyBmcm9tICducHJvZ3Jlc3MnOwppbXBvcnQgJ25wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzJzsKdmFyIHJlcXVlc3QgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjgwOTAvJywKICB0aW1lb3V0OiAxMDAwMAp9KTsgLy8g6K+35rGC5oum5oiqCgpyZXF1ZXN0LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgTlByb2dyZXNzLnN0YXJ0KCk7CiAgdmFyIGlkZW50aWZpY2F0aW9uID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZGVudGlmaWNhdGlvbicpOyAvL2lkZW50aWZpY2F0aW9u5a2Y5Zyo77yM5LiU5piv5Z+65LqOYmFzZVVSTOeahOivt+axggoKICBpZiAoaWRlbnRpZmljYXRpb24gJiYgIShjb25maWcudXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCBjb25maWcudXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpKSB7CiAgICBjb25maWcuaGVhZGVycy5pZGVudGlmaWNhdGlvbiA9IGlkZW50aWZpY2F0aW9uOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSk7IC8vIOWTjeW6lOaLpuaIqgoKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBOUHJvZ3Jlc3MuZG9uZSgpOwogIHZhciBpZGVudGlmaWNhdGlvbiA9IGNvbmZpZy5oZWFkZXJzLmlkZW50aWZpY2F0aW9uOwoKICBpZiAoaWRlbnRpZmljYXRpb24pIHsKICAgIC8v5L+d5a2Y6Lqr5Lu95qCH6K+G5YiwbG9jYWxTdG9yYWdlCiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lkZW50aWZpY2F0aW9uJywgaWRlbnRpZmljYXRpb24pOwogIH0KCiAgcmV0dXJuIGNvbmZpZy5kYXRhOwp9KTsKZXhwb3J0IGRlZmF1bHQgcmVxdWVzdDs="},{"version":3,"sources":["/Users/cm/Blog/blog-view/src/plugins/axios.js"],"names":["axios","NProgress","request","create","baseURL","timeout","interceptors","use","config","start","identification","window","localStorage","getItem","url","startsWith","headers","response","done","setItem","data"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AAEA,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC5BC,EAAAA,OAAO,EAAE,wBADmB;AAE5BC,EAAAA,OAAO,EAAE;AAFmB,CAAb,CAAhB,C,CAKA;;AACAH,OAAO,CAACI,YAAR,CAAqBJ,OAArB,CAA6BK,GAA7B,CACC,UAAAC,MAAM,EAAI;AACTP,EAAAA,SAAS,CAACQ,KAAV;AACA,MAAMC,cAAc,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,gBAA5B,CAAvB,CAFS,CAGT;;AACA,MAAIH,cAAc,IAAI,EAAEF,MAAM,CAACM,GAAP,CAAWC,UAAX,CAAsB,SAAtB,KAAoCP,MAAM,CAACM,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CAAtC,CAAtB,EAAgG;AAC/FP,IAAAA,MAAM,CAACQ,OAAP,CAAeN,cAAf,GAAgCA,cAAhC;AACA;;AACD,SAAOF,MAAP;AACA,CATF,E,CAYA;;AACAN,OAAO,CAACI,YAAR,CAAqBW,QAArB,CAA8BV,GAA9B,CACC,UAAAC,MAAM,EAAI;AACTP,EAAAA,SAAS,CAACiB,IAAV;AACA,MAAMR,cAAc,GAAGF,MAAM,CAACQ,OAAP,CAAeN,cAAtC;;AACA,MAAIA,cAAJ,EAAoB;AACnB;AACAC,IAAAA,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4B,gBAA5B,EAA8CT,cAA9C;AACA;;AACD,SAAOF,MAAM,CAACY,IAAd;AACA,CATF;AAYA,eAAelB,OAAf","sourcesContent":["import axios from \"axios\";\nimport NProgress from 'nprogress'\nimport 'nprogress/nprogress.css'\n\nconst request = axios.create({\n\tbaseURL: 'http://localhost:8090/',\n\ttimeout: 10000,\n})\n\n// 请求拦截\nrequest.interceptors.request.use(\n\tconfig => {\n\t\tNProgress.start()\n\t\tconst identification = window.localStorage.getItem('identification')\n\t\t//identification存在，且是基于baseURL的请求\n\t\tif (identification && !(config.url.startsWith('http://') || config.url.startsWith('https://'))) {\n\t\t\tconfig.headers.identification = identification\n\t\t}\n\t\treturn config\n\t}\n)\n\n// 响应拦截\nrequest.interceptors.response.use(\n\tconfig => {\n\t\tNProgress.done()\n\t\tconst identification = config.headers.identification\n\t\tif (identification) {\n\t\t\t//保存身份标识到localStorage\n\t\t\twindow.localStorage.setItem('identification', identification)\n\t\t}\n\t\treturn config.data\n\t}\n)\n\nexport default request"]}]}