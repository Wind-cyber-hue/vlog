{"remainingRequest":"/Users/cm/Blog/blog-view/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cm/Blog/blog-view/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cm/Blog/blog-view/src/views/home/Home.vue","mtime":1686818260922},{"path":"/Users/cm/Blog/blog-view/node_modules/cache-loader/dist/cjs.js","mtime":1686729283471},{"path":"/Users/cm/Blog/blog-view/node_modules/babel-loader/lib/index.js","mtime":1686729283156},{"path":"/Users/cm/Blog/blog-view/node_modules/cache-loader/dist/cjs.js","mtime":1686729283471},{"path":"/Users/cm/Blog/blog-view/node_modules/vue-loader/lib/index.js","mtime":1686729286819}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCbG9nTGlzdCBmcm9tICJAL2NvbXBvbmVudHMvYmxvZy9CbG9nTGlzdCI7CmltcG9ydCB7Z2V0QmxvZ0xpc3R9IGZyb20gIkAvYXBpL2hvbWUiOwppbXBvcnQge1NFVF9JU19CTE9HX1RPX0hPTUV9IGZyb20gIi4uLy4uL3N0b3JlL211dGF0aW9ucy10eXBlcyI7CgpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAiSG9tZSIsCgljb21wb25lbnRzOiB7QmxvZ0xpc3R9LAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlibG9nTGlzdDogW10sCgkJCXRvdGFsUGFnZTogMCwKCQkJZ2V0QmxvZ0xpc3RGaW5pc2g6IGZhbHNlCgkJfQoJfSwKCWJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKCQluZXh0KHZtID0+IHsKCQkJaWYgKGZyb20ubmFtZSAhPT0gJ2Jsb2cnKSB7CgkJCQkvL+WFtuWug+mhtemdoui3s+i9rOWIsOmmlumhteaXtu+8jOmHjeaWsOivt+axguaVsOaNrgoJCQkJLy/orr7nva7kuIDkuKpmbGFn77yM6K6p6aaW6aG155qE5YiG6aG157uE5Lu25oyH5ZCR5q2j56Gu55qE6aG156CBCgkJCQl2bS4kc3RvcmUuY29tbWl0KFNFVF9JU19CTE9HX1RPX0hPTUUsIGZhbHNlKQoJCQkJdm0uZ2V0QmxvZ0xpc3QoKQoJCQl9IGVsc2UgewoJCQkJLy/lpoLmnpzmlofnq6DpobXpnaLmmK/otbflp4vorr/pl67pobXvvIzpppbpobXlsIbmmK/nrKzkuIDmrKHov5vlhaXvvIzljbPnvJPlrZjkuI3lrZjlnKjvvIzopoHor7fmsYLmlbDmja4KCQkJCWlmICghdm0uZ2V0QmxvZ0xpc3RGaW5pc2gpIHsKCQkJCQl2bS5nZXRCbG9nTGlzdCgpCgkJCQl9CgkJCQkvL+S7juaWh+eroOmhtemdoui3s+i9rOWIsOmmlumhteaXtu+8jOS9v+eUqOmmlumhtee8k+WtmAoJCQkJdm0uJHN0b3JlLmNvbW1pdChTRVRfSVNfQkxPR19UT19IT01FLCB0cnVlKQoJCQl9CgkJfSkKCX0sCgltZXRob2RzOiB7CgkJZ2V0QmxvZ0xpc3QocGFnZU51bSkgewoJCQlnZXRCbG9nTGlzdChwYWdlTnVtKS50aGVuKHJlcyA9PiB7CgkJCQlpZiAocmVzLmNvZGUgPT09IDIwMCkgewoJCQkJCXRoaXMuYmxvZ0xpc3QgPSByZXMuZGF0YS5saXN0CgkJCQkJdGhpcy50b3RhbFBhZ2UgPSByZXMuZGF0YS50b3RhbFBhZ2UKCQkJCQl0aGlzLiRuZXh0VGljaygoKSA9PiB7CgkJCQkJCVByaXNtLmhpZ2hsaWdodEFsbCgpCgkJCQkJfSkKCQkJCQl0aGlzLmdldEJsb2dMaXN0RmluaXNoID0gdHJ1ZQoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLm1zZ0Vycm9yKHJlcy5tc2cpCgkJCQl9CgkJCX0pLmNhdGNoKCgpID0+IHsKCQkJCXRoaXMubXNnRXJyb3IoIuivt+axguWksei0pSIpCgkJCX0pCgkJfQoJfQp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n\t<div>\n\t\t<BlogList :getBlogList=\"getBlogList\" :blogList=\"blogList\" :totalPage=\"totalPage\"/>\n\t</div>\n</template>\n\n<script>\n\timport BlogList from \"@/components/blog/BlogList\";\n\timport {getBlogList} from \"@/api/home\";\n\timport {SET_IS_BLOG_TO_HOME} from \"../../store/mutations-types\";\n\n\texport default {\n\t\tname: \"Home\",\n\t\tcomponents: {BlogList},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tblogList: [],\n\t\t\t\ttotalPage: 0,\n\t\t\t\tgetBlogListFinish: false\n\t\t\t}\n\t\t},\n\t\tbeforeRouteEnter(to, from, next) {\n\t\t\tnext(vm => {\n\t\t\t\tif (from.name !== 'blog') {\n\t\t\t\t\t//其它页面跳转到首页时，重新请求数据\n\t\t\t\t\t//设置一个flag，让首页的分页组件指向正确的页码\n\t\t\t\t\tvm.$store.commit(SET_IS_BLOG_TO_HOME, false)\n\t\t\t\t\tvm.getBlogList()\n\t\t\t\t} else {\n\t\t\t\t\t//如果文章页面是起始访问页，首页将是第一次进入，即缓存不存在，要请求数据\n\t\t\t\t\tif (!vm.getBlogListFinish) {\n\t\t\t\t\t\tvm.getBlogList()\n\t\t\t\t\t}\n\t\t\t\t\t//从文章页面跳转到首页时，使用首页缓存\n\t\t\t\t\tvm.$store.commit(SET_IS_BLOG_TO_HOME, true)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\tgetBlogList(pageNum) {\n\t\t\t\tgetBlogList(pageNum).then(res => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tthis.blogList = res.data.list\n\t\t\t\t\t\tthis.totalPage = res.data.totalPage\n\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\tPrism.highlightAll()\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.getBlogListFinish = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.msgError(res.msg)\n\t\t\t\t\t}\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.msgError(\"请求失败\")\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\n</style>"]}]}